#!/bin/bash
#===============================================================================
#          FILE: gitploy
#
#   DESCRIPTION: Repo integration and deployment
#
#          BUGS: https://github.com/jeremyBass/gitploy/issues
#
#     COPYRIGHT: (c) 2014 by the Pleasures, see AUTHORS.rst for more
#                details.
#
#       LICENSE: Apache 2.0
#  ORGANIZATION: pleasures llc
#       CREATED: 1/1/2014
#===============================================================================
set -o nounset                              # Treat unset variables as an error
__ScriptVersion="0.1.0"
__ScriptName="gitploy"

#===  FUNCTION  ================================================================
#         NAME:  usage
#  DESCRIPTION:  Display usage information.
#===============================================================================
SCRIPT=${0##*/}
IFS=$'\n'
USAGE="\
\n
  Usage :  ${__ScriptName} [<command>] [options]\n
\n
  Examples:\n
    $ ${__ScriptName} <module> <repository>        Install a module by cloning specified git repository\n
    $ ${__ScriptName} init                         Initialize .modgit/ folder\n
    $ ${__ScriptName} ls                           List installed modules\n
    $ ${__ScriptName} rm <module>                  Remove specified module\n
    $ ${__ScriptName} up <module>                  Update specified module\n
    $ ${__ScriptName} info <module>                Show information about a specific module\n
    $ ${__ScriptName} files <module>               List deployed files of specified module\n
    $ ${__ScriptName} proxy <module> <git_args>    Run git command into specified module\n
\n
  Options:\n
  -v   Show modgit version\n
  -h   Show this help\n
  -d   (Dry run) Dry run mode (show what would be done)\n
  -i   (Include) Only deploys items that match the filters\n
       Example: $SCRIPT $(tput bold)-i lib/ -i foo/:bar/$(tput sgr0) my_module https://github.com/account/repository.git\n
                => will deploy only lib/ (to lib/) and foo/ (to bar/)\n
  -e   (Exclude) Filters out listed items\n
       Example: $SCRIPT $(tput bold)-e lib/tests/ -e *.txt$(tput sgr0) my_module https://github.com/account/repository.git\n
                => will exclude both directory lib/tests/ and file lib/README.txt\n
  -b   (Branch) Specify a repository branch (only for add command)\n
       Example: $SCRIPT $(tput bold)-b 1.0-stable$(tput sgr0) my_module https://github.com/account/repository.git\n
                => will checkout 1.0-stable branch of specified repository\n
  -t   (Tag) Specify a repository tag (only for add and update command)\n
       Example: $SCRIPT $(tput bold)-t 1.2.0$(tput sgr0) my_module https://github.com/account/repository.git\n
                => will checkout 1.2.0 tag of specified repository\n
  -r   (Reqursive) Move through the modules tracked reqursively\n
       Example: $ ${__ScriptName} rm <module>\n
  -u   (Unattended) Unattended\n
       Example: $ ${__ScriptName} rm <module>\n
"
# ----------  end of usage  ----------


#-----------------------------------------------------------------------
#  Handle command line arguments
#-----------------------------------------------------------------------
#fill out



# Handle options
while getopts "h" opt; do
  case $opt in
    h )  echo -e $USAGE; exit 0                                  ;;


    \?)  echo
         echoerror "Option does not exist : $OPTARG"
         echo -e $USAGE
         exit 1
         ;;

  esac
done

